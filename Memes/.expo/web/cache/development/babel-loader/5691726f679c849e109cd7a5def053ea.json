{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport firebase from \"firebase\";\n\nvar Fire = function () {\n  function Fire() {\n    var _this = this;\n\n    _classCallCheck(this, Fire);\n\n    this.init = function () {\n      if (!firebase.apps.length) {\n        firebase.initializeApp({\n          apiKey: \"AIzaSyDdjm5RrguiQobekQCT7B9h0Y8hCEtljgA\",\n          authDomain: \"sanswet-ddc4e.firebaseapp.com\",\n          databaseURL: \"https://sanswet-ddc4e.firebaseio.com\",\n          projectId: \"sanswet-ddc4e\",\n          storageBucket: \"sanswet-ddc4e.appspot.com\",\n          messagingSenderId: \"699168623184\",\n          appId: \"1:699168623184:web:6ba68ba0f2c1a78ff21f55\"\n        });\n      }\n    };\n\n    this.checkAuth = function () {\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (!user) {}\n      });\n    };\n\n    this.send = function (messages) {\n      messages.forEach(function (item) {\n        var message = {\n          text: item.text,\n          timestamp: firebase.database.ServerValue.TIMESTAMP,\n          user: item.user\n        };\n\n        _this.db.push(message);\n      });\n    };\n\n    this.parse = function (message) {\n      var _message$val = message.val(),\n          user = _message$val.user,\n          text = _message$val.text,\n          timestamp = _message$val.timestamp;\n\n      var _id = message.key;\n      var createdAt = new Date(timestamp);\n      return {\n        _id: _id,\n        createdAt: createdAt,\n        text: text,\n        user: user\n      };\n    };\n\n    this.get = function (callback) {\n      _this.db.on(\"child_added\", function (snapshot) {\n        return callback(_this.parse(snapshot));\n      });\n    };\n\n    this.init();\n    this.checkAuth();\n  }\n\n  _createClass(Fire, [{\n    key: \"off\",\n    value: function off() {\n      this.db.off();\n    }\n  }, {\n    key: \"db\",\n    get: function get() {\n      return firebase.database().ref(\"messages\");\n    }\n  }, {\n    key: \"uid\",\n    get: function get() {\n      return (firebase.auth().currentUser || {}).uid;\n    }\n  }]);\n\n  return Fire;\n}();\n\nexport default new Fire();","map":{"version":3,"sources":["D:/React Native Project/Memes/screens/Fire.js"],"names":["firebase","Fire","init","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","checkAuth","auth","onAuthStateChanged","user","send","messages","forEach","item","message","text","timestamp","database","ServerValue","TIMESTAMP","db","push","parse","val","_id","key","createdAt","Date","get","callback","on","snapshot","off","ref","currentUser","uid"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,UAArB;;IAGMC,I;AAEF,kBAAc;AAAA;;AAAA;;AAAA,SAYdC,IAZc,GAYP,YAAM;AAER,UAAI,CAACF,QAAQ,CAACG,IAAT,CAAcC,MAAnB,EAA2B;AAExBJ,QAAAA,QAAQ,CAACK,aAAT,CAAuB;AACnBC,UAAAA,MAAM,EAAE,yCADW;AAEnBC,UAAAA,UAAU,EAAE,+BAFO;AAGnBC,UAAAA,WAAW,EAAE,sCAHM;AAInBC,UAAAA,SAAS,EAAE,eAJQ;AAKnBC,UAAAA,aAAa,EAAE,2BALI;AAMnBC,UAAAA,iBAAiB,EAAE,cANA;AAOnBC,UAAAA,KAAK,EAAE;AAPY,SAAvB;AAWF;AAEL,KA7Ba;;AAAA,SAgCdC,SAhCc,GAgCF,YAAM;AAEdb,MAAAA,QAAQ,CAACc,IAAT,GAAgBC,kBAAhB,CAAmC,UAAAC,IAAI,EAAI;AAExC,YAAI,CAACA,IAAL,EAAW,CAIV;AAEH,OARD;AASH,KA3Ca;;AAAA,SA8CdC,IA9Cc,GA8CP,UAAAC,QAAQ,EAAI;AAEjBA,MAAAA,QAAQ,CAACC,OAAT,CAAiB,UAAAC,IAAI,EAAI;AAEtB,YAAMC,OAAO,GAAG;AAEbC,UAAAA,IAAI,EAAEF,IAAI,CAACE,IAFE;AAIbC,UAAAA,SAAS,EAAEvB,QAAQ,CAACwB,QAAT,CAAkBC,WAAlB,CAA8BC,SAJ5B;AAMbV,UAAAA,IAAI,EAAEI,IAAI,CAACJ;AANE,SAAhB;;AAUC,QAAA,KAAI,CAACW,EAAL,CAAQC,IAAR,CAAaP,OAAb;AAEF,OAdF;AAgBD,KAhEa;;AAAA,SAkEdQ,KAlEc,GAkEN,UAAAR,OAAO,EAAI;AAAA,yBAEmBA,OAAO,CAACS,GAAR,EAFnB;AAAA,UAEPd,IAFO,gBAEPA,IAFO;AAAA,UAEDM,IAFC,gBAEDA,IAFC;AAAA,UAEKC,SAFL,gBAEKA,SAFL;;AAAA,UAIFQ,GAJE,GAIKV,OAJL,CAIPW,GAJO;AAMf,UAAMC,SAAS,GAAG,IAAIC,IAAJ,CAASX,SAAT,CAAlB;AAGA,aAAO;AAEFQ,QAAAA,GAAG,EAAHA,GAFE;AAIFE,QAAAA,SAAS,EAATA,SAJE;AAMFX,QAAAA,IAAI,EAAJA,IANE;AAQFN,QAAAA,IAAI,EAAJA;AARE,OAAP;AAYH,KAvFa;;AAAA,SAyFbmB,GAzFa,GAyFP,UAAAC,QAAQ,EAAI;AAEd,MAAA,KAAI,CAACT,EAAL,CAAQU,EAAR,CAAW,aAAX,EAA0B,UAAAC,QAAQ;AAAA,eAAIF,QAAQ,CAAC,KAAI,CAACP,KAAL,CAAWS,QAAX,CAAD,CAAZ;AAAA,OAAlC;AAEH,KA7FY;;AAET,SAAKpC,IAAL;AAEA,SAAKW,SAAL;AAIJ;;;;0BAuFM;AAEF,WAAKc,EAAL,CAAQY,GAAR;AAEH;;;wBAEO;AAEL,aAAOvC,QAAQ,CAACwB,QAAT,GAAoBgB,GAApB,CAAwB,UAAxB,CAAP;AAEH;;;wBAES;AAEN,aAAO,CAACxC,QAAQ,CAACc,IAAT,GAAgB2B,WAAhB,IAA+B,EAAhC,EAAoCC,GAA3C;AAEH;;;;;;AAML,eAAe,IAAIzC,IAAJ,EAAf","sourcesContent":["import firebase from \"firebase\";\r\n\r\n\r\nclass Fire {\r\n\r\n    constructor() {\r\n\r\n         this.init()\r\n\r\n         this.checkAuth()\r\n\r\n         \r\n\r\n    }\r\n\r\n    \r\n\r\n    init = () => {\r\n\r\n         if (!firebase.apps.length) {\r\n\r\n            firebase.initializeApp({\r\n                apiKey: \"AIzaSyDdjm5RrguiQobekQCT7B9h0Y8hCEtljgA\",\r\n                authDomain: \"sanswet-ddc4e.firebaseapp.com\",\r\n                databaseURL: \"https://sanswet-ddc4e.firebaseio.com\",\r\n                projectId: \"sanswet-ddc4e\",\r\n                storageBucket: \"sanswet-ddc4e.appspot.com\",\r\n                messagingSenderId: \"699168623184\",\r\n                appId: \"1:699168623184:web:6ba68ba0f2c1a78ff21f55\"\r\n                \r\n            });   \r\n\r\n         }\r\n\r\n    };\r\n\r\n\r\n    checkAuth = () => {\r\n\r\n        firebase.auth().onAuthStateChanged(user => {\r\n\r\n           if (!user) {\r\n\r\n               \r\n\r\n           }\r\n\r\n        });\r\n    };\r\n\r\n       \r\n    send = messages => {\r\n \r\n      messages.forEach(item => {\r\n\r\n         const message = {\r\n\r\n            text: item.text,\r\n\r\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\r\n\r\n            user: item.user\r\n\r\n          };\r\n\r\n          this.db.push(message);\r\n\r\n       });\r\n\r\n    };\r\n\r\n    parse = message => {\r\n\r\n        const { user, text, timestamp } = message.val();\r\n\r\n        const { key: _id} = message;\r\n\r\n        const createdAt = new Date(timestamp);\r\n\r\n\r\n        return {\r\n\r\n             _id,\r\n\r\n             createdAt,\r\n\r\n             text,\r\n\r\n             user\r\n\r\n        };\r\n\r\n    };\r\n\r\n     get = callback => {\r\n\r\n         this.db.on(\"child_added\", snapshot => callback(this.parse(snapshot)));\r\n\r\n     };\r\n\r\n     off() {\r\n\r\n         this.db.off()\r\n\r\n     }\r\n\r\n    get db() {\r\n\r\n        return firebase.database().ref(\"messages\");\r\n\r\n    }\r\n\r\n    get uid() {\r\n\r\n        return (firebase.auth().currentUser || {}).uid\r\n        \r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default new Fire;"]},"metadata":{},"sourceType":"module"}