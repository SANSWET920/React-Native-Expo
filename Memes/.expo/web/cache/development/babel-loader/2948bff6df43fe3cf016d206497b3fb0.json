{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\React Native Project\\\\Memes\\\\node_modules\\\\react-native-gifted-chat-new\\\\src\\\\Bubble.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Clipboard from \"react-native-web/dist/exports/Clipboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ViewPropTypes from \"react-native-web/dist/exports/ViewPropTypes\";\nimport MessageText from \"./MessageText\";\nimport MessageImage from \"./MessageImage\";\nimport Time from \"./Time\";\nimport Color from \"./Color\";\nimport { isSameUser, isSameDay } from \"./utils\";\n\nvar Bubble = function (_React$PureComponent) {\n  _inherits(Bubble, _React$PureComponent);\n\n  var _super = _createSuper(Bubble);\n\n  function Bubble(props) {\n    var _this;\n\n    _classCallCheck(this, Bubble);\n\n    _this = _super.call(this, props);\n    _this.onLongPress = _this.onLongPress.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Bubble, [{\n    key: \"onLongPress\",\n    value: function onLongPress() {\n      var _this2 = this;\n\n      if (this.props.onLongPress) {\n        this.props.onLongPress(this.context, this.props.currentMessage);\n      } else if (this.props.currentMessage.text) {\n        var options = ['Copy Text', 'Cancel'];\n        var cancelButtonIndex = options.length - 1;\n        this.context.actionSheet().showActionSheetWithOptions({\n          options: options,\n          cancelButtonIndex: cancelButtonIndex\n        }, function (buttonIndex) {\n          switch (buttonIndex) {\n            case 0:\n              Clipboard.setString(_this2.props.currentMessage.text);\n              break;\n\n            default:\n              break;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleBubbleToNext\",\n    value: function handleBubbleToNext() {\n      if (isSameUser(this.props.currentMessage, this.props.nextMessage) && isSameDay(this.props.currentMessage, this.props.nextMessage)) {\n        return StyleSheet.flatten([styles[this.props.position].containerToNext, this.props.containerToNextStyle[this.props.position]]);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleBubbleToPrevious\",\n    value: function handleBubbleToPrevious() {\n      if (isSameUser(this.props.currentMessage, this.props.previousMessage) && isSameDay(this.props.currentMessage, this.props.previousMessage)) {\n        return StyleSheet.flatten([styles[this.props.position].containerToPrevious, this.props.containerToPreviousStyle[this.props.position]]);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderMessageText\",\n    value: function renderMessageText() {\n      if (this.props.currentMessage.text) {\n        var _this$props = this.props,\n            containerStyle = _this$props.containerStyle,\n            wrapperStyle = _this$props.wrapperStyle,\n            messageTextProps = _objectWithoutProperties(_this$props, [\"containerStyle\", \"wrapperStyle\"]);\n\n        if (this.props.renderMessageText) {\n          return this.props.renderMessageText(messageTextProps);\n        }\n\n        return React.createElement(MessageText, _extends({}, messageTextProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderMessageImage\",\n    value: function renderMessageImage() {\n      if (this.props.currentMessage.image) {\n        var _this$props2 = this.props,\n            containerStyle = _this$props2.containerStyle,\n            wrapperStyle = _this$props2.wrapperStyle,\n            messageImageProps = _objectWithoutProperties(_this$props2, [\"containerStyle\", \"wrapperStyle\"]);\n\n        if (this.props.renderMessageImage) {\n          return this.props.renderMessageImage(messageImageProps);\n        }\n\n        return React.createElement(MessageImage, _extends({}, messageImageProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderTicks\",\n    value: function renderTicks() {\n      var currentMessage = this.props.currentMessage;\n\n      if (this.props.renderTicks) {\n        return this.props.renderTicks(currentMessage);\n      }\n\n      if (currentMessage.user._id !== this.props.user._id) {\n        return null;\n      }\n\n      if (currentMessage.sent || currentMessage.received) {\n        return React.createElement(View, {\n          style: styles.tickView,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }\n        }, currentMessage.sent && React.createElement(Text, {\n          style: [styles.tick, this.props.tickStyle],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 35\n          }\n        }, \"\\u2713\"), currentMessage.received && React.createElement(Text, {\n          style: [styles.tick, this.props.tickStyle],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 39\n          }\n        }, \"\\u2713\"));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderTime\",\n    value: function renderTime() {\n      if (this.props.currentMessage.createdAt) {\n        var _this$props3 = this.props,\n            containerStyle = _this$props3.containerStyle,\n            wrapperStyle = _this$props3.wrapperStyle,\n            timeProps = _objectWithoutProperties(_this$props3, [\"containerStyle\", \"wrapperStyle\"]);\n\n        if (this.props.renderTime) {\n          return this.props.renderTime(timeProps);\n        }\n\n        return React.createElement(Time, _extends({}, timeProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderCustomView\",\n    value: function renderCustomView() {\n      if (this.props.renderCustomView) {\n        return this.props.renderCustomView(this.props);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: [styles[this.props.position].container, this.props.containerStyle[this.props.position]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [styles[this.props.position].wrapper, this.props.wrapperStyle[this.props.position], this.handleBubbleToNext(), this.handleBubbleToPrevious()],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableWithoutFeedback, _extends({\n        onLongPress: this.onLongPress,\n        accessibilityTraits: \"text\"\n      }, this.props.touchableProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, this.renderCustomView(), this.renderMessageImage(), this.renderMessageText(), React.createElement(View, {\n        style: [styles.bottom, this.props.bottomContainerStyle[this.props.position]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }, this.renderTime(), this.renderTicks())))));\n    }\n  }]);\n\n  return Bubble;\n}(React.PureComponent);\n\nexport { Bubble as default };\nvar styles = {\n  left: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-start'\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.leftBubbleBackground,\n      marginRight: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end'\n    },\n    containerToNext: {\n      borderBottomLeftRadius: 3\n    },\n    containerToPrevious: {\n      borderTopLeftRadius: 3\n    }\n  }),\n  right: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-end'\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.defaultBlue,\n      marginLeft: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end'\n    },\n    containerToNext: {\n      borderBottomRightRadius: 3\n    },\n    containerToPrevious: {\n      borderTopRightRadius: 3\n    }\n  }),\n  bottom: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end'\n  },\n  tick: {\n    fontSize: 10,\n    backgroundColor: Color.backgroundTransparent,\n    color: Color.white\n  },\n  tickView: {\n    flexDirection: 'row',\n    marginRight: 10\n  }\n};\nBubble.contextTypes = {\n  actionSheet: PropTypes.func\n};\nBubble.defaultProps = {\n  touchableProps: {},\n  onLongPress: null,\n  renderMessageImage: null,\n  renderMessageText: null,\n  renderCustomView: null,\n  renderTicks: null,\n  renderTime: null,\n  position: 'left',\n  currentMessage: {\n    text: null,\n    createdAt: null,\n    image: null\n  },\n  nextMessage: {},\n  previousMessage: {},\n  containerStyle: {},\n  wrapperStyle: {},\n  bottomContainerStyle: {},\n  tickStyle: {},\n  containerToNextStyle: {},\n  containerToPreviousStyle: {}\n};\nBubble.propTypes = {\n  user: PropTypes.object.isRequired,\n  touchableProps: PropTypes.object,\n  onLongPress: PropTypes.func,\n  renderMessageImage: PropTypes.func,\n  renderMessageText: PropTypes.func,\n  renderCustomView: PropTypes.func,\n  renderTime: PropTypes.func,\n  renderTicks: PropTypes.func,\n  position: PropTypes.oneOf(['left', 'right']),\n  currentMessage: PropTypes.object,\n  nextMessage: PropTypes.object,\n  previousMessage: PropTypes.object,\n  containerStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style\n  }),\n  wrapperStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style\n  }),\n  bottomContainerStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style\n  }),\n  tickStyle: Text.propTypes.style,\n  containerToNextStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style\n  }),\n  containerToPreviousStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style\n  })\n};","map":{"version":3,"sources":["D:/React Native Project/Memes/node_modules/react-native-gifted-chat-new/src/Bubble.js"],"names":["PropTypes","React","MessageText","MessageImage","Time","Color","isSameUser","isSameDay","Bubble","props","onLongPress","bind","context","currentMessage","text","options","cancelButtonIndex","length","actionSheet","showActionSheetWithOptions","buttonIndex","Clipboard","setString","nextMessage","StyleSheet","flatten","styles","position","containerToNext","containerToNextStyle","previousMessage","containerToPrevious","containerToPreviousStyle","containerStyle","wrapperStyle","messageTextProps","renderMessageText","image","messageImageProps","renderMessageImage","renderTicks","user","_id","sent","received","tickView","tick","tickStyle","createdAt","timeProps","renderTime","renderCustomView","container","wrapper","handleBubbleToNext","handleBubbleToPrevious","touchableProps","bottom","bottomContainerStyle","PureComponent","left","create","flex","alignItems","borderRadius","backgroundColor","leftBubbleBackground","marginRight","minHeight","justifyContent","borderBottomLeftRadius","borderTopLeftRadius","right","defaultBlue","marginLeft","borderBottomRightRadius","borderTopRightRadius","flexDirection","fontSize","backgroundTransparent","color","white","contextTypes","func","defaultProps","propTypes","object","isRequired","oneOf","shape","ViewPropTypes","style","Text"],"mappings":"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","sourcesContent":["/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Text, Clipboard, StyleSheet, TouchableWithoutFeedback, View, ViewPropTypes } from 'react-native';\n\nimport MessageText from './MessageText';\nimport MessageImage from './MessageImage';\nimport Time from './Time';\nimport Color from './Color';\n\nimport { isSameUser, isSameDay } from './utils';\n\nexport default class Bubble extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n    this.onLongPress = this.onLongPress.bind(this);\n  }\n\n  onLongPress() {\n    if (this.props.onLongPress) {\n      this.props.onLongPress(this.context, this.props.currentMessage);\n    } else if (this.props.currentMessage.text) {\n      const options = ['Copy Text', 'Cancel'];\n      const cancelButtonIndex = options.length - 1;\n      this.context.actionSheet().showActionSheetWithOptions(\n        {\n          options,\n          cancelButtonIndex,\n        },\n        (buttonIndex) => {\n          switch (buttonIndex) {\n            case 0:\n              Clipboard.setString(this.props.currentMessage.text);\n              break;\n            default:\n              break;\n          }\n        },\n      );\n    }\n  }\n\n  handleBubbleToNext() {\n    if (\n      isSameUser(this.props.currentMessage, this.props.nextMessage) &&\n      isSameDay(this.props.currentMessage, this.props.nextMessage)\n    ) {\n      return StyleSheet.flatten([\n        styles[this.props.position].containerToNext,\n        this.props.containerToNextStyle[this.props.position],\n      ]);\n    }\n    return null;\n  }\n\n  handleBubbleToPrevious() {\n    if (\n      isSameUser(this.props.currentMessage, this.props.previousMessage) &&\n      isSameDay(this.props.currentMessage, this.props.previousMessage)\n    ) {\n      return StyleSheet.flatten([\n        styles[this.props.position].containerToPrevious,\n        this.props.containerToPreviousStyle[this.props.position],\n      ]);\n    }\n    return null;\n  }\n\n  renderMessageText() {\n    if (this.props.currentMessage.text) {\n      const { containerStyle, wrapperStyle, ...messageTextProps } = this.props;\n      if (this.props.renderMessageText) {\n        return this.props.renderMessageText(messageTextProps);\n      }\n      return <MessageText {...messageTextProps} />;\n    }\n    return null;\n  }\n\n  renderMessageImage() {\n    if (this.props.currentMessage.image) {\n      const { containerStyle, wrapperStyle, ...messageImageProps } = this.props;\n      if (this.props.renderMessageImage) {\n        return this.props.renderMessageImage(messageImageProps);\n      }\n      return <MessageImage {...messageImageProps} />;\n    }\n    return null;\n  }\n\n  renderTicks() {\n    const { currentMessage } = this.props;\n    if (this.props.renderTicks) {\n      return this.props.renderTicks(currentMessage);\n    }\n    if (currentMessage.user._id !== this.props.user._id) {\n      return null;\n    }\n    if (currentMessage.sent || currentMessage.received) {\n      return (\n        <View style={styles.tickView}>\n          {currentMessage.sent && <Text style={[styles.tick, this.props.tickStyle]}>✓</Text>}\n          {currentMessage.received && <Text style={[styles.tick, this.props.tickStyle]}>✓</Text>}\n        </View>\n      );\n    }\n    return null;\n  }\n\n  renderTime() {\n    if (this.props.currentMessage.createdAt) {\n      const { containerStyle, wrapperStyle, ...timeProps } = this.props;\n      if (this.props.renderTime) {\n        return this.props.renderTime(timeProps);\n      }\n      return <Time {...timeProps} />;\n    }\n    return null;\n  }\n\n  renderCustomView() {\n    if (this.props.renderCustomView) {\n      return this.props.renderCustomView(this.props);\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <View style={[styles[this.props.position].container, this.props.containerStyle[this.props.position]]}>\n        <View\n          style={[\n            styles[this.props.position].wrapper,\n            this.props.wrapperStyle[this.props.position],\n            this.handleBubbleToNext(),\n            this.handleBubbleToPrevious(),\n          ]}\n        >\n          <TouchableWithoutFeedback\n            onLongPress={this.onLongPress}\n            accessibilityTraits=\"text\"\n            {...this.props.touchableProps}\n          >\n            <View>\n              {this.renderCustomView()}\n              {this.renderMessageImage()}\n              {this.renderMessageText()}\n              <View style={[styles.bottom, this.props.bottomContainerStyle[this.props.position]]}>\n                {this.renderTime()}\n                {this.renderTicks()}\n              </View>\n            </View>\n          </TouchableWithoutFeedback>\n        </View>\n      </View>\n    );\n  }\n\n}\n\nconst styles = {\n  left: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-start',\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.leftBubbleBackground,\n      marginRight: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end',\n    },\n    containerToNext: {\n      borderBottomLeftRadius: 3,\n    },\n    containerToPrevious: {\n      borderTopLeftRadius: 3,\n    },\n  }),\n  right: StyleSheet.create({\n    container: {\n      flex: 1,\n      alignItems: 'flex-end',\n    },\n    wrapper: {\n      borderRadius: 15,\n      backgroundColor: Color.defaultBlue,\n      marginLeft: 60,\n      minHeight: 20,\n      justifyContent: 'flex-end',\n    },\n    containerToNext: {\n      borderBottomRightRadius: 3,\n    },\n    containerToPrevious: {\n      borderTopRightRadius: 3,\n    },\n  }),\n  bottom: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n  tick: {\n    fontSize: 10,\n    backgroundColor: Color.backgroundTransparent,\n    color: Color.white,\n  },\n  tickView: {\n    flexDirection: 'row',\n    marginRight: 10,\n  },\n};\n\nBubble.contextTypes = {\n  actionSheet: PropTypes.func,\n};\n\nBubble.defaultProps = {\n  touchableProps: {},\n  onLongPress: null,\n  renderMessageImage: null,\n  renderMessageText: null,\n  renderCustomView: null,\n  renderTicks: null,\n  renderTime: null,\n  position: 'left',\n  currentMessage: {\n    text: null,\n    createdAt: null,\n    image: null,\n  },\n  nextMessage: {},\n  previousMessage: {},\n  containerStyle: {},\n  wrapperStyle: {},\n  bottomContainerStyle: {},\n  tickStyle: {},\n  containerToNextStyle: {},\n  containerToPreviousStyle: {},\n};\n\nBubble.propTypes = {\n  user: PropTypes.object.isRequired,\n  touchableProps: PropTypes.object,\n  onLongPress: PropTypes.func,\n  renderMessageImage: PropTypes.func,\n  renderMessageText: PropTypes.func,\n  renderCustomView: PropTypes.func,\n  renderTime: PropTypes.func,\n  renderTicks: PropTypes.func,\n  position: PropTypes.oneOf(['left', 'right']),\n  currentMessage: PropTypes.object,\n  nextMessage: PropTypes.object,\n  previousMessage: PropTypes.object,\n  containerStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style,\n  }),\n  wrapperStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style,\n  }),\n  bottomContainerStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style,\n  }),\n  tickStyle: Text.propTypes.style,\n  containerToNextStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style,\n  }),\n  containerToPreviousStyle: PropTypes.shape({\n    left: ViewPropTypes.style,\n    right: ViewPropTypes.style,\n  }),\n};\n"]},"metadata":{},"sourceType":"module"}