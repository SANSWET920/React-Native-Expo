{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\React Native Project\\\\Memes\\\\node_modules\\\\react-native-gifted-chat-new\\\\src\\\\GiftedChat.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActionSheet from '@expo/react-native-action-sheet';\nimport moment from 'moment';\nimport uuid from 'uuid';\nimport * as utils from \"./utils\";\nimport Actions from \"./Actions\";\nimport Avatar from \"./Avatar\";\nimport Bubble from \"./Bubble\";\nimport SystemMessage from \"./SystemMessage\";\nimport MessageImage from \"./MessageImage\";\nimport MessageText from \"./MessageText\";\nimport Composer from \"./Composer\";\nimport Day from \"./Day\";\nimport InputToolbar from \"./InputToolbar\";\nimport LoadEarlier from \"./LoadEarlier\";\nimport Message from \"./Message\";\nimport MessageContainer from \"./MessageContainer\";\nimport Send from \"./Send\";\nimport Time from \"./Time\";\nimport GiftedAvatar from \"./GiftedAvatar\";\nimport { MIN_COMPOSER_HEIGHT, MAX_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER, TIME_FORMAT, DATE_FORMAT } from \"./Constant\";\n\nvar GiftedChat = function (_React$Component) {\n  _inherits(GiftedChat, _React$Component);\n\n  var _super = _createSuper(GiftedChat);\n\n  function GiftedChat(props) {\n    var _this;\n\n    _classCallCheck(this, GiftedChat);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this._keyboardHeight = 0;\n    _this._bottomOffset = 0;\n    _this._maxHeight = null;\n    _this._isFirstLayout = true;\n    _this._locale = 'en';\n    _this._messages = [];\n    _this.state = {\n      isInitialized: false,\n      composerHeight: MIN_COMPOSER_HEIGHT,\n      messagesContainerHeight: null,\n      typingDisabled: false\n    };\n    _this.onKeyboardWillShow = _this.onKeyboardWillShow.bind(_assertThisInitialized(_this));\n    _this.onKeyboardWillHide = _this.onKeyboardWillHide.bind(_assertThisInitialized(_this));\n    _this.onKeyboardDidShow = _this.onKeyboardDidShow.bind(_assertThisInitialized(_this));\n    _this.onKeyboardDidHide = _this.onKeyboardDidHide.bind(_assertThisInitialized(_this));\n    _this.onSend = _this.onSend.bind(_assertThisInitialized(_this));\n    _this.getLocale = _this.getLocale.bind(_assertThisInitialized(_this));\n    _this.onInputSizeChanged = _this.onInputSizeChanged.bind(_assertThisInitialized(_this));\n    _this.onInputTextChanged = _this.onInputTextChanged.bind(_assertThisInitialized(_this));\n    _this.onMainViewLayout = _this.onMainViewLayout.bind(_assertThisInitialized(_this));\n    _this.onInitialLayoutViewLayout = _this.onInitialLayoutViewLayout.bind(_assertThisInitialized(_this));\n    _this.invertibleScrollViewProps = {\n      inverted: _this.props.inverted,\n      keyboardShouldPersistTaps: _this.props.keyboardShouldPersistTaps,\n      onKeyboardWillShow: _this.onKeyboardWillShow,\n      onKeyboardWillHide: _this.onKeyboardWillHide,\n      onKeyboardDidShow: _this.onKeyboardDidShow,\n      onKeyboardDidHide: _this.onKeyboardDidHide\n    };\n    return _this;\n  }\n\n  _createClass(GiftedChat, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      var _this2 = this;\n\n      return {\n        actionSheet: function actionSheet() {\n          return _this2._actionSheetRef;\n        },\n        getLocale: this.getLocale\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props = this.props,\n          messages = _this$props.messages,\n          text = _this$props.text;\n      this.setIsMounted(true);\n      this.initLocale();\n      this.setMessages(messages || []);\n      this.setTextFromProp(text);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setIsMounted(false);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps() {\n      var nextProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var messages = nextProps.messages,\n          text = nextProps.text;\n      this.setMessages(messages || []);\n      this.setTextFromProp(text);\n    }\n  }, {\n    key: \"initLocale\",\n    value: function initLocale() {\n      if (this.props.locale === null || moment.locales().indexOf(this.props.locale) === -1) {\n        this.setLocale('en');\n      } else {\n        this.setLocale(this.props.locale);\n      }\n    }\n  }, {\n    key: \"setLocale\",\n    value: function setLocale(locale) {\n      this._locale = locale;\n    }\n  }, {\n    key: \"getLocale\",\n    value: function getLocale() {\n      return this._locale;\n    }\n  }, {\n    key: \"setTextFromProp\",\n    value: function setTextFromProp(textProp) {\n      if (textProp !== undefined && textProp !== this.state.text) {\n        this.setState({\n          text: textProp\n        });\n      }\n    }\n  }, {\n    key: \"getTextFromProp\",\n    value: function getTextFromProp(fallback) {\n      if (this.props.text === undefined) {\n        return fallback;\n      }\n\n      return this.props.text;\n    }\n  }, {\n    key: \"setMessages\",\n    value: function setMessages(messages) {\n      this._messages = messages;\n    }\n  }, {\n    key: \"getMessages\",\n    value: function getMessages() {\n      return this._messages;\n    }\n  }, {\n    key: \"setMaxHeight\",\n    value: function setMaxHeight(height) {\n      this._maxHeight = height;\n    }\n  }, {\n    key: \"getMaxHeight\",\n    value: function getMaxHeight() {\n      return this._maxHeight;\n    }\n  }, {\n    key: \"setKeyboardHeight\",\n    value: function setKeyboardHeight(height) {\n      this._keyboardHeight = height;\n    }\n  }, {\n    key: \"getKeyboardHeight\",\n    value: function getKeyboardHeight() {\n      if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n        return 0;\n      }\n\n      return this._keyboardHeight;\n    }\n  }, {\n    key: \"setBottomOffset\",\n    value: function setBottomOffset(value) {\n      this._bottomOffset = value;\n    }\n  }, {\n    key: \"getBottomOffset\",\n    value: function getBottomOffset() {\n      return this._bottomOffset;\n    }\n  }, {\n    key: \"setIsFirstLayout\",\n    value: function setIsFirstLayout(value) {\n      this._isFirstLayout = value;\n    }\n  }, {\n    key: \"getIsFirstLayout\",\n    value: function getIsFirstLayout() {\n      return this._isFirstLayout;\n    }\n  }, {\n    key: \"setIsTypingDisabled\",\n    value: function setIsTypingDisabled(value) {\n      this.setState({\n        typingDisabled: value\n      });\n    }\n  }, {\n    key: \"getIsTypingDisabled\",\n    value: function getIsTypingDisabled() {\n      return this.state.typingDisabled;\n    }\n  }, {\n    key: \"setIsMounted\",\n    value: function setIsMounted(value) {\n      this._isMounted = value;\n    }\n  }, {\n    key: \"getIsMounted\",\n    value: function getIsMounted() {\n      return this._isMounted;\n    }\n  }, {\n    key: \"getMinInputToolbarHeight\",\n    value: function getMinInputToolbarHeight() {\n      return this.props.renderAccessory ? this.props.minInputToolbarHeight * 2 : this.props.minInputToolbarHeight;\n    }\n  }, {\n    key: \"calculateInputToolbarHeight\",\n    value: function calculateInputToolbarHeight(composerHeight) {\n      return composerHeight + (this.getMinInputToolbarHeight() - MIN_COMPOSER_HEIGHT);\n    }\n  }, {\n    key: \"getBasicMessagesContainerHeight\",\n    value: function getBasicMessagesContainerHeight() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight);\n    }\n  }, {\n    key: \"getMessagesContainerHeightWithKeyboard\",\n    value: function getMessagesContainerHeightWithKeyboard() {\n      var composerHeight = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.composerHeight;\n      return this.getBasicMessagesContainerHeight(composerHeight) - this.getKeyboardHeight() + this.getBottomOffset();\n    }\n  }, {\n    key: \"prepareMessagesContainerHeight\",\n    value: function prepareMessagesContainerHeight(value) {\n      if (this.props.isAnimated === true) {\n        return new Animated.Value(value);\n      }\n\n      return value;\n    }\n  }, {\n    key: \"onKeyboardWillShow\",\n    value: function onKeyboardWillShow(e) {\n      this.setIsTypingDisabled(true);\n      this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n      this.setBottomOffset(this.props.bottomOffset);\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard();\n\n      if (this.props.isAnimated === true) {\n        Animated.timing(this.state.messagesContainerHeight, {\n          toValue: newMessagesContainerHeight,\n          duration: 210\n        }).start();\n      } else {\n        this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    }\n  }, {\n    key: \"onKeyboardWillHide\",\n    value: function onKeyboardWillHide() {\n      this.setIsTypingDisabled(true);\n      this.setKeyboardHeight(0);\n      this.setBottomOffset(0);\n      var newMessagesContainerHeight = this.getBasicMessagesContainerHeight();\n\n      if (this.props.isAnimated === true) {\n        Animated.timing(this.state.messagesContainerHeight, {\n          toValue: newMessagesContainerHeight,\n          duration: 210\n        }).start();\n      } else {\n        this.setState({\n          messagesContainerHeight: newMessagesContainerHeight\n        });\n      }\n    }\n  }, {\n    key: \"onKeyboardDidShow\",\n    value: function onKeyboardDidShow(e) {\n      if (Platform.OS === 'android') {\n        this.onKeyboardWillShow(e);\n      }\n\n      this.setIsTypingDisabled(false);\n    }\n  }, {\n    key: \"onKeyboardDidHide\",\n    value: function onKeyboardDidHide(e) {\n      if (Platform.OS === 'android') {\n        this.onKeyboardWillHide(e);\n      }\n\n      this.setIsTypingDisabled(false);\n    }\n  }, {\n    key: \"scrollToBottom\",\n    value: function scrollToBottom() {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this._messageContainerRef === null) {\n        return;\n      }\n\n      this._messageContainerRef.scrollTo({\n        y: 0,\n        animated: animated\n      });\n    }\n  }, {\n    key: \"renderMessages\",\n    value: function renderMessages() {\n      var _this3 = this;\n\n      var AnimatedView = this.props.isAnimated === true ? Animated.View : View;\n      return React.createElement(AnimatedView, {\n        style: {\n          height: this.state.messagesContainerHeight\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 7\n        }\n      }, React.createElement(MessageContainer, _extends({}, this.props, {\n        invertibleScrollViewProps: this.invertibleScrollViewProps,\n        messages: this.getMessages(),\n        ref: function ref(component) {\n          return _this3._messageContainerRef = component;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 9\n        }\n      })), this.renderChatFooter());\n    }\n  }, {\n    key: \"onSend\",\n    value: function onSend() {\n      var _this4 = this;\n\n      var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var shouldResetInputToolbar = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      messages = messages.map(function (message) {\n        return _objectSpread({}, message, {\n          user: _this4.props.user,\n          createdAt: new Date(),\n          _id: _this4.props.messageIdGenerator()\n        });\n      });\n\n      if (shouldResetInputToolbar === true) {\n        this.setIsTypingDisabled(true);\n        this.resetInputToolbar();\n      }\n\n      this.props.onSend(messages);\n      this.scrollToBottom();\n\n      if (shouldResetInputToolbar === true) {\n        setTimeout(function () {\n          if (_this4.getIsMounted() === true) {\n            _this4.setIsTypingDisabled(false);\n          }\n        }, 100);\n      }\n    }\n  }, {\n    key: \"resetInputToolbar\",\n    value: function resetInputToolbar() {\n      if (this.textInput) {\n        this.textInput.clear();\n      }\n\n      this.notifyInputTextReset();\n      var newComposerHeight = MIN_COMPOSER_HEIGHT;\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      this.setState({\n        text: this.getTextFromProp(''),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight)\n      });\n    }\n  }, {\n    key: \"focusTextInput\",\n    value: function focusTextInput() {\n      if (this.textInput) {\n        this.textInput.focus();\n      }\n    }\n  }, {\n    key: \"onInputSizeChanged\",\n    value: function onInputSizeChanged(size) {\n      var newComposerHeight = Math.max(MIN_COMPOSER_HEIGHT, Math.min(MAX_COMPOSER_HEIGHT, size.height));\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      this.setState({\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight)\n      });\n    }\n  }, {\n    key: \"onInputTextChanged\",\n    value: function onInputTextChanged(text) {\n      if (this.getIsTypingDisabled()) {\n        return;\n      }\n\n      if (this.props.onInputTextChanged) {\n        this.props.onInputTextChanged(text);\n      }\n\n      if (this.props.text === undefined) {\n        this.setState({\n          text: text\n        });\n      }\n    }\n  }, {\n    key: \"notifyInputTextReset\",\n    value: function notifyInputTextReset() {\n      if (this.props.onInputTextChanged) {\n        this.props.onInputTextChanged('');\n      }\n    }\n  }, {\n    key: \"onInitialLayoutViewLayout\",\n    value: function onInitialLayoutViewLayout(e) {\n      var layout = e.nativeEvent.layout;\n\n      if (layout.height <= 0) {\n        return;\n      }\n\n      this.notifyInputTextReset();\n      this.setMaxHeight(layout.height);\n      var newComposerHeight = MIN_COMPOSER_HEIGHT;\n      var newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n      this.setState({\n        isInitialized: true,\n        text: this.getTextFromProp(''),\n        composerHeight: newComposerHeight,\n        messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight)\n      });\n    }\n  }, {\n    key: \"onMainViewLayout\",\n    value: function onMainViewLayout(e) {\n      var layout = e.nativeEvent.layout;\n\n      if (this.getMaxHeight() !== layout.height || this.getIsFirstLayout() === true) {\n        this.setMaxHeight(layout.height);\n        this.setState({\n          messagesContainerHeight: this.prepareMessagesContainerHeight(this.getBasicMessagesContainerHeight())\n        });\n      }\n\n      if (this.getIsFirstLayout() === true) {\n        this.setIsFirstLayout(false);\n      }\n    }\n  }, {\n    key: \"renderInputToolbar\",\n    value: function renderInputToolbar() {\n      var _this5 = this;\n\n      var inputToolbarProps = _objectSpread({}, this.props, {\n        text: this.getTextFromProp(this.state.text),\n        composerHeight: Math.max(MIN_COMPOSER_HEIGHT, this.state.composerHeight),\n        onSend: this.onSend,\n        onInputSizeChanged: this.onInputSizeChanged,\n        onTextChanged: this.onInputTextChanged,\n        textInputProps: _objectSpread({}, this.props.textInputProps, {\n          ref: function ref(textInput) {\n            return _this5.textInput = textInput;\n          },\n          maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength\n        })\n      });\n\n      if (this.props.renderInputToolbar) {\n        return this.props.renderInputToolbar(inputToolbarProps);\n      }\n\n      return React.createElement(InputToolbar, _extends({}, inputToolbarProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 7\n        }\n      }));\n    }\n  }, {\n    key: \"renderChatFooter\",\n    value: function renderChatFooter() {\n      if (this.props.renderChatFooter) {\n        var footerProps = _objectSpread({}, this.props);\n\n        return this.props.renderChatFooter(footerProps);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.props.renderLoading) {\n        return this.props.renderLoading();\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      if (this.state.isInitialized === true) {\n        return React.createElement(ActionSheet, {\n          ref: function ref(component) {\n            return _this6._actionSheetRef = component;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.container,\n          onLayout: this.onMainViewLayout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 11\n          }\n        }, this.renderMessages(), this.renderInputToolbar()));\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        onLayout: this.onInitialLayoutViewLayout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 7\n        }\n      }, this.renderLoading());\n    }\n  }], [{\n    key: \"append\",\n    value: function append() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend() {\n      var currentMessages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var messages = arguments.length > 1 ? arguments[1] : undefined;\n      var inverted = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n      if (!Array.isArray(messages)) {\n        messages = [messages];\n      }\n\n      return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\n    }\n  }]);\n\n  return GiftedChat;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});\nGiftedChat.childContextTypes = {\n  actionSheet: PropTypes.func,\n  getLocale: PropTypes.func\n};\nGiftedChat.defaultProps = {\n  messages: [],\n  text: undefined,\n  placeholder: DEFAULT_PLACEHOLDER,\n  messageIdGenerator: function messageIdGenerator() {\n    return uuid.v4();\n  },\n  user: {},\n  onSend: function onSend() {},\n  locale: null,\n  timeFormat: TIME_FORMAT,\n  dateFormat: DATE_FORMAT,\n  isAnimated: Platform.select({\n    ios: true,\n    android: false\n  }),\n  loadEarlier: false,\n  onLoadEarlier: function onLoadEarlier() {},\n  isLoadingEarlier: false,\n  renderLoading: null,\n  renderLoadEarlier: null,\n  renderAvatar: undefined,\n  showUserAvatar: false,\n  onPressAvatar: null,\n  renderAvatarOnTop: false,\n  renderBubble: null,\n  renderSystemMessage: null,\n  onLongPress: null,\n  renderMessage: null,\n  renderMessageText: null,\n  renderMessageImage: null,\n  imageProps: {},\n  lightboxProps: {},\n  textInputProps: {},\n  listViewProps: {},\n  renderCustomView: null,\n  renderDay: null,\n  renderTime: null,\n  renderFooter: null,\n  renderChatFooter: null,\n  renderInputToolbar: null,\n  renderComposer: null,\n  renderActions: null,\n  renderSend: null,\n  renderAccessory: null,\n  onPressActionButton: null,\n  bottomOffset: 0,\n  minInputToolbarHeight: 44,\n  keyboardShouldPersistTaps: Platform.select({\n    ios: 'never',\n    android: 'always'\n  }),\n  onInputTextChanged: null,\n  maxInputLength: null,\n  forceGetKeyboardHeight: false,\n  inverted: true\n};\nGiftedChat.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  text: PropTypes.string,\n  placeholder: PropTypes.string,\n  messageIdGenerator: PropTypes.func,\n  user: PropTypes.object,\n  onSend: PropTypes.func,\n  locale: PropTypes.string,\n  timeFormat: PropTypes.string,\n  dateFormat: PropTypes.string,\n  isAnimated: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  onLoadEarlier: PropTypes.func,\n  isLoadingEarlier: PropTypes.bool,\n  renderLoading: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  renderAvatar: PropTypes.func,\n  showUserAvatar: PropTypes.bool,\n  onPressAvatar: PropTypes.func,\n  renderAvatarOnTop: PropTypes.bool,\n  renderBubble: PropTypes.func,\n  renderSystemMessage: PropTypes.func,\n  onLongPress: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderMessageText: PropTypes.func,\n  renderMessageImage: PropTypes.func,\n  imageProps: PropTypes.object,\n  lightboxProps: PropTypes.object,\n  renderCustomView: PropTypes.func,\n  renderDay: PropTypes.func,\n  renderTime: PropTypes.func,\n  renderFooter: PropTypes.func,\n  renderChatFooter: PropTypes.func,\n  renderInputToolbar: PropTypes.func,\n  renderComposer: PropTypes.func,\n  renderActions: PropTypes.func,\n  renderSend: PropTypes.func,\n  renderAccessory: PropTypes.func,\n  onPressActionButton: PropTypes.func,\n  bottomOffset: PropTypes.number,\n  minInputToolbarHeight: PropTypes.number,\n  listViewProps: PropTypes.object,\n  keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n  onInputTextChanged: PropTypes.func,\n  maxInputLength: PropTypes.number,\n  forceGetKeyboardHeight: PropTypes.bool,\n  inverted: PropTypes.bool,\n  textInputProps: PropTypes.object\n};\nexport { GiftedChat, Actions, Avatar, Bubble, SystemMessage, MessageImage, MessageText, Composer, Day, InputToolbar, LoadEarlier, Message, MessageContainer, Send, Time, GiftedAvatar, utils };","map":{"version":3,"sources":["D:/React Native Project/Memes/node_modules/react-native-gifted-chat-new/src/GiftedChat.js"],"names":["PropTypes","React","ActionSheet","moment","uuid","utils","Actions","Avatar","Bubble","SystemMessage","MessageImage","MessageText","Composer","Day","InputToolbar","LoadEarlier","Message","MessageContainer","Send","Time","GiftedAvatar","MIN_COMPOSER_HEIGHT","MAX_COMPOSER_HEIGHT","DEFAULT_PLACEHOLDER","TIME_FORMAT","DATE_FORMAT","GiftedChat","props","_isMounted","_keyboardHeight","_bottomOffset","_maxHeight","_isFirstLayout","_locale","_messages","state","isInitialized","composerHeight","messagesContainerHeight","typingDisabled","onKeyboardWillShow","bind","onKeyboardWillHide","onKeyboardDidShow","onKeyboardDidHide","onSend","getLocale","onInputSizeChanged","onInputTextChanged","onMainViewLayout","onInitialLayoutViewLayout","invertibleScrollViewProps","inverted","keyboardShouldPersistTaps","actionSheet","_actionSheetRef","messages","text","setIsMounted","initLocale","setMessages","setTextFromProp","nextProps","locale","locales","indexOf","setLocale","textProp","undefined","setState","fallback","height","Platform","OS","forceGetKeyboardHeight","value","renderAccessory","minInputToolbarHeight","getMinInputToolbarHeight","getMaxHeight","calculateInputToolbarHeight","getBasicMessagesContainerHeight","getKeyboardHeight","getBottomOffset","isAnimated","Animated","Value","e","setIsTypingDisabled","setKeyboardHeight","endCoordinates","end","setBottomOffset","bottomOffset","newMessagesContainerHeight","getMessagesContainerHeightWithKeyboard","timing","toValue","duration","start","animated","_messageContainerRef","scrollTo","y","AnimatedView","View","getMessages","component","renderChatFooter","shouldResetInputToolbar","Array","isArray","map","message","user","createdAt","Date","_id","messageIdGenerator","resetInputToolbar","scrollToBottom","setTimeout","getIsMounted","textInput","clear","notifyInputTextReset","newComposerHeight","getTextFromProp","prepareMessagesContainerHeight","focus","size","Math","max","min","getIsTypingDisabled","layout","nativeEvent","setMaxHeight","getIsFirstLayout","setIsFirstLayout","inputToolbarProps","onTextChanged","textInputProps","ref","maxLength","maxInputLength","renderInputToolbar","footerProps","renderLoading","styles","container","renderMessages","currentMessages","concat","Component","StyleSheet","create","flex","childContextTypes","func","defaultProps","placeholder","v4","timeFormat","dateFormat","select","ios","android","loadEarlier","onLoadEarlier","isLoadingEarlier","renderLoadEarlier","renderAvatar","showUserAvatar","onPressAvatar","renderAvatarOnTop","renderBubble","renderSystemMessage","onLongPress","renderMessage","renderMessageText","renderMessageImage","imageProps","lightboxProps","listViewProps","renderCustomView","renderDay","renderTime","renderFooter","renderComposer","renderActions","renderSend","onPressActionButton","propTypes","arrayOf","object","string","bool","number","oneOf"],"mappings":"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","sourcesContent":["/* eslint\n    no-param-reassign: 0,\n    no-use-before-define: [\"error\", { \"variables\": false }],\n    no-return-assign: 0,\n    no-mixed-operators: 0,\n    react/sort-comp: 0\n*/\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Animated, Platform, StyleSheet, View } from 'react-native';\n\nimport ActionSheet from '@expo/react-native-action-sheet';\nimport moment from 'moment';\nimport uuid from 'uuid';\n\nimport * as utils from './utils';\nimport Actions from './Actions';\nimport Avatar from './Avatar';\nimport Bubble from './Bubble';\nimport SystemMessage from './SystemMessage';\nimport MessageImage from './MessageImage';\nimport MessageText from './MessageText';\nimport Composer from './Composer';\nimport Day from './Day';\nimport InputToolbar from './InputToolbar';\nimport LoadEarlier from './LoadEarlier';\nimport Message from './Message';\nimport MessageContainer from './MessageContainer';\nimport Send from './Send';\nimport Time from './Time';\nimport GiftedAvatar from './GiftedAvatar';\n\nimport {\n  MIN_COMPOSER_HEIGHT,\n  MAX_COMPOSER_HEIGHT,\n  DEFAULT_PLACEHOLDER,\n  TIME_FORMAT,\n  DATE_FORMAT,\n} from './Constant';\n\nclass GiftedChat extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    // default values\n    this._isMounted = false;\n    this._keyboardHeight = 0;\n    this._bottomOffset = 0;\n    this._maxHeight = null;\n    this._isFirstLayout = true;\n    this._locale = 'en';\n    this._messages = [];\n\n    this.state = {\n      isInitialized: false, // initialization will calculate maxHeight before rendering the chat\n      composerHeight: MIN_COMPOSER_HEIGHT,\n      messagesContainerHeight: null,\n      typingDisabled: false,\n    };\n\n    this.onKeyboardWillShow = this.onKeyboardWillShow.bind(this);\n    this.onKeyboardWillHide = this.onKeyboardWillHide.bind(this);\n    this.onKeyboardDidShow = this.onKeyboardDidShow.bind(this);\n    this.onKeyboardDidHide = this.onKeyboardDidHide.bind(this);\n    this.onSend = this.onSend.bind(this);\n    this.getLocale = this.getLocale.bind(this);\n    this.onInputSizeChanged = this.onInputSizeChanged.bind(this);\n    this.onInputTextChanged = this.onInputTextChanged.bind(this);\n    this.onMainViewLayout = this.onMainViewLayout.bind(this);\n    this.onInitialLayoutViewLayout = this.onInitialLayoutViewLayout.bind(this);\n\n    this.invertibleScrollViewProps = {\n      inverted: this.props.inverted,\n      keyboardShouldPersistTaps: this.props.keyboardShouldPersistTaps,\n      onKeyboardWillShow: this.onKeyboardWillShow,\n      onKeyboardWillHide: this.onKeyboardWillHide,\n      onKeyboardDidShow: this.onKeyboardDidShow,\n      onKeyboardDidHide: this.onKeyboardDidHide,\n    };\n  }\n\n  static append(currentMessages = [], messages, inverted = true) {\n    if (!Array.isArray(messages)) {\n      messages = [messages];\n    }\n    return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\n  }\n\n  static prepend(currentMessages = [], messages, inverted = true) {\n    if (!Array.isArray(messages)) {\n      messages = [messages];\n    }\n    return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\n  }\n\n  getChildContext() {\n    return {\n      actionSheet: () => this._actionSheetRef,\n      getLocale: this.getLocale,\n    };\n  }\n\n  componentDidMount() {\n    const { messages, text } = this.props;\n    this.setIsMounted(true);\n    this.initLocale();\n    this.setMessages(messages || []);\n    this.setTextFromProp(text);\n  }\n\n\n\n  componentWillUnmount() {\n    this.setIsMounted(false);\n  }\n\n  componentWillReceiveProps(nextProps = {}) {\n    const { messages, text } = nextProps;\n    this.setMessages(messages || []);\n    this.setTextFromProp(text);\n  }\n\n  initLocale() {\n    if (this.props.locale === null || moment.locales().indexOf(this.props.locale) === -1) {\n      this.setLocale('en');\n    } else {\n      this.setLocale(this.props.locale);\n    }\n  }\n\n  setLocale(locale) {\n    this._locale = locale;\n  }\n\n  getLocale() {\n    return this._locale;\n  }\n\n  setTextFromProp(textProp) {\n    // Text prop takes precedence over state.\n    if (textProp !== undefined && textProp !== this.state.text) {\n      this.setState({ text: textProp });\n    }\n  }\n\n  getTextFromProp(fallback) {\n    if (this.props.text === undefined) {\n      return fallback;\n    }\n    return this.props.text;\n  }\n\n  setMessages(messages) {\n    this._messages = messages;\n  }\n\n  getMessages() {\n    return this._messages;\n  }\n\n  setMaxHeight(height) {\n    this._maxHeight = height;\n  }\n\n  getMaxHeight() {\n    return this._maxHeight;\n  }\n\n  setKeyboardHeight(height) {\n    this._keyboardHeight = height;\n  }\n\n  getKeyboardHeight() {\n    if (Platform.OS === 'android' && !this.props.forceGetKeyboardHeight) {\n      // For android: on-screen keyboard resized main container and has own height.\n      // @see https://developer.android.com/training/keyboard-input/visibility.html\n      // So for calculate the messages container height ignore keyboard height.\n      return 0;\n    }\n    return this._keyboardHeight;\n  }\n\n\n  setBottomOffset(value) {\n    this._bottomOffset = value;\n  }\n\n  getBottomOffset() {\n    return this._bottomOffset;\n  }\n\n  setIsFirstLayout(value) {\n    this._isFirstLayout = value;\n  }\n\n  getIsFirstLayout() {\n    return this._isFirstLayout;\n  }\n\n  setIsTypingDisabled(value) {\n    this.setState({\n      typingDisabled: value,\n    });\n  }\n\n  getIsTypingDisabled() {\n    return this.state.typingDisabled;\n  }\n\n  setIsMounted(value) {\n    this._isMounted = value;\n  }\n\n  getIsMounted() {\n    return this._isMounted;\n  }\n\n  // TODO: setMinInputToolbarHeight\n  getMinInputToolbarHeight() {\n    return this.props.renderAccessory\n      ? this.props.minInputToolbarHeight * 2\n      : this.props.minInputToolbarHeight;\n  }\n  calculateInputToolbarHeight(composerHeight) {\n    return composerHeight + (this.getMinInputToolbarHeight() - MIN_COMPOSER_HEIGHT);\n  }\n\n  /**\n   * Returns the height, based on current window size, without taking the keyboard into account.\n   */\n  getBasicMessagesContainerHeight(composerHeight = this.state.composerHeight) {\n    return this.getMaxHeight() - this.calculateInputToolbarHeight(composerHeight);\n  }\n\n  /**\n   * Returns the height, based on current window size, taking the keyboard into account.\n   */\n  getMessagesContainerHeightWithKeyboard(composerHeight = this.state.composerHeight) {\n    return this.getBasicMessagesContainerHeight(composerHeight) - this.getKeyboardHeight() + this.getBottomOffset();\n  }\n\n  prepareMessagesContainerHeight(value) {\n    if (this.props.isAnimated === true) {\n      return new Animated.Value(value);\n    }\n    return value;\n  }\n\n  onKeyboardWillShow(e) {\n    this.setIsTypingDisabled(true);\n    this.setKeyboardHeight(e.endCoordinates ? e.endCoordinates.height : e.end.height);\n    this.setBottomOffset(this.props.bottomOffset);\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard();\n    if (this.props.isAnimated === true) {\n      Animated.timing(this.state.messagesContainerHeight, {\n        toValue: newMessagesContainerHeight,\n        duration: 210,\n      }).start();\n    } else {\n      this.setState({\n        messagesContainerHeight: newMessagesContainerHeight,\n      });\n    }\n  }\n\n  onKeyboardWillHide() {\n    this.setIsTypingDisabled(true);\n    this.setKeyboardHeight(0);\n    this.setBottomOffset(0);\n    const newMessagesContainerHeight = this.getBasicMessagesContainerHeight();\n    if (this.props.isAnimated === true) {\n      Animated.timing(this.state.messagesContainerHeight, {\n        toValue: newMessagesContainerHeight,\n        duration: 210,\n      }).start();\n    } else {\n      this.setState({\n        messagesContainerHeight: newMessagesContainerHeight,\n      });\n    }\n  }\n\n  onKeyboardDidShow(e) {\n    if (Platform.OS === 'android') {\n      this.onKeyboardWillShow(e);\n    }\n    this.setIsTypingDisabled(false);\n  }\n\n  onKeyboardDidHide(e) {\n    if (Platform.OS === 'android') {\n      this.onKeyboardWillHide(e);\n    }\n    this.setIsTypingDisabled(false);\n  }\n\n  scrollToBottom(animated = true) {\n    if (this._messageContainerRef === null) {\n      return;\n    }\n    this._messageContainerRef.scrollTo({ y: 0, animated });\n  }\n\n\n  renderMessages() {\n    const AnimatedView = this.props.isAnimated === true ? Animated.View : View;\n    return (\n      <AnimatedView\n        style={{\n          height: this.state.messagesContainerHeight,\n        }}\n      >\n        <MessageContainer\n          {...this.props}\n          invertibleScrollViewProps={this.invertibleScrollViewProps}\n          messages={this.getMessages()}\n          ref={(component) => (this._messageContainerRef = component)}\n\n        />\n        {this.renderChatFooter()}\n      </AnimatedView>\n    );\n  }\n\n  onSend(messages = [], shouldResetInputToolbar = false) {\n    if (!Array.isArray(messages)) {\n      messages = [messages];\n    }\n    messages = messages.map((message) => {\n      return {\n        ...message,\n        user: this.props.user,\n        createdAt: new Date(),\n        _id: this.props.messageIdGenerator(),\n      };\n    });\n\n    if (shouldResetInputToolbar === true) {\n      this.setIsTypingDisabled(true);\n      this.resetInputToolbar();\n    }\n\n    this.props.onSend(messages);\n    this.scrollToBottom();\n\n    if (shouldResetInputToolbar === true) {\n      setTimeout(() => {\n        if (this.getIsMounted() === true) {\n          this.setIsTypingDisabled(false);\n        }\n      }, 100);\n    }\n  }\n\n  resetInputToolbar() {\n    if (this.textInput) {\n      this.textInput.clear();\n    }\n    this.notifyInputTextReset();\n    const newComposerHeight = MIN_COMPOSER_HEIGHT;\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n    this.setState({\n      text: this.getTextFromProp(''),\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight),\n    });\n  }\n\n  focusTextInput() {\n    if (this.textInput) {\n      this.textInput.focus();\n    }\n  }\n\n  onInputSizeChanged(size) {\n    const newComposerHeight = Math.max(MIN_COMPOSER_HEIGHT, Math.min(MAX_COMPOSER_HEIGHT, size.height));\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n    this.setState({\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight),\n    });\n  }\n\n  onInputTextChanged(text) {\n    if (this.getIsTypingDisabled()) {\n      return;\n    }\n    if (this.props.onInputTextChanged) {\n      this.props.onInputTextChanged(text);\n    }\n    // Only set state if it's not being overridden by a prop.\n    if (this.props.text === undefined) {\n      this.setState({ text });\n    }\n  }\n\n  notifyInputTextReset() {\n    if (this.props.onInputTextChanged) {\n      this.props.onInputTextChanged('');\n    }\n  }\n\n  onInitialLayoutViewLayout(e) {\n    const { layout } = e.nativeEvent;\n    if (layout.height <= 0) {\n      return;\n    }\n    this.notifyInputTextReset();\n    this.setMaxHeight(layout.height);\n    const newComposerHeight = MIN_COMPOSER_HEIGHT;\n    const newMessagesContainerHeight = this.getMessagesContainerHeightWithKeyboard(newComposerHeight);\n    this.setState({\n      isInitialized: true,\n      text: this.getTextFromProp(''),\n      composerHeight: newComposerHeight,\n      messagesContainerHeight: this.prepareMessagesContainerHeight(newMessagesContainerHeight),\n    });\n  }\n\n  onMainViewLayout(e) {\n    // fix an issue when keyboard is dismissing during the initialization\n    const { layout } = e.nativeEvent;\n    if (this.getMaxHeight() !== layout.height || this.getIsFirstLayout() === true) {\n      this.setMaxHeight(layout.height);\n      this.setState({\n        messagesContainerHeight: this.prepareMessagesContainerHeight(this.getBasicMessagesContainerHeight()),\n      });\n    }\n    if (this.getIsFirstLayout() === true) {\n      this.setIsFirstLayout(false);\n    }\n  }\n\n  renderInputToolbar() {\n    const inputToolbarProps = {\n      ...this.props,\n      text: this.getTextFromProp(this.state.text),\n      composerHeight: Math.max(MIN_COMPOSER_HEIGHT, this.state.composerHeight),\n      onSend: this.onSend,\n      onInputSizeChanged: this.onInputSizeChanged,\n      onTextChanged: this.onInputTextChanged,\n      textInputProps: {\n        ...this.props.textInputProps,\n        ref: (textInput) => (this.textInput = textInput),\n        maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\n      },\n    };\n    if (this.props.renderInputToolbar) {\n      return this.props.renderInputToolbar(inputToolbarProps);\n    }\n    return (\n      <InputToolbar\n        {...inputToolbarProps}\n      />\n    );\n  }\n\n  renderChatFooter() {\n    if (this.props.renderChatFooter) {\n      const footerProps = {\n        ...this.props,\n      };\n      return this.props.renderChatFooter(footerProps);\n    }\n    return null;\n  }\n\n  renderLoading() {\n    if (this.props.renderLoading) {\n      return this.props.renderLoading();\n    }\n    return null;\n  }\n\n  render() {\n    if (this.state.isInitialized === true) {\n      return (\n        <ActionSheet ref={(component) => (this._actionSheetRef = component)}>\n          <View style={styles.container} onLayout={this.onMainViewLayout}>\n            {this.renderMessages()}\n            {this.renderInputToolbar()}\n          </View>\n        </ActionSheet>\n      );\n    }\n    return (\n      <View style={styles.container} onLayout={this.onInitialLayoutViewLayout}>\n        {this.renderLoading()}\n      </View>\n    );\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n});\n\nGiftedChat.childContextTypes = {\n  actionSheet: PropTypes.func,\n  getLocale: PropTypes.func,\n};\n\nGiftedChat.defaultProps = {\n  messages: [],\n  text: undefined,\n  placeholder: DEFAULT_PLACEHOLDER,\n  messageIdGenerator: () => uuid.v4(),\n  user: {},\n  onSend: () => { },\n  locale: null,\n  timeFormat: TIME_FORMAT,\n  dateFormat: DATE_FORMAT,\n  isAnimated: Platform.select({\n    ios: true,\n    android: false,\n  }),\n  loadEarlier: false,\n  onLoadEarlier: () => { },\n  isLoadingEarlier: false,\n  renderLoading: null,\n  renderLoadEarlier: null,\n  renderAvatar: undefined,\n  showUserAvatar: false,\n  onPressAvatar: null,\n  renderAvatarOnTop: false,\n  renderBubble: null,\n  renderSystemMessage: null,\n  onLongPress: null,\n  renderMessage: null,\n  renderMessageText: null,\n  renderMessageImage: null,\n  imageProps: {},\n  lightboxProps: {},\n  textInputProps: {},\n  listViewProps: {},\n  renderCustomView: null,\n  renderDay: null,\n  renderTime: null,\n  renderFooter: null,\n  renderChatFooter: null,\n  renderInputToolbar: null,\n  renderComposer: null,\n  renderActions: null,\n  renderSend: null,\n  renderAccessory: null,\n  onPressActionButton: null,\n  bottomOffset: 0,\n  minInputToolbarHeight: 44,\n  keyboardShouldPersistTaps: Platform.select({\n    ios: 'never',\n    android: 'always',\n  }),\n  onInputTextChanged: null,\n  maxInputLength: null,\n  forceGetKeyboardHeight: false,\n  inverted: true,\n};\n\nGiftedChat.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  text: PropTypes.string,\n  placeholder: PropTypes.string,\n  messageIdGenerator: PropTypes.func,\n  user: PropTypes.object,\n  onSend: PropTypes.func,\n  locale: PropTypes.string,\n  timeFormat: PropTypes.string,\n  dateFormat: PropTypes.string,\n  isAnimated: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  onLoadEarlier: PropTypes.func,\n  isLoadingEarlier: PropTypes.bool,\n  renderLoading: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  renderAvatar: PropTypes.func,\n  showUserAvatar: PropTypes.bool,\n  onPressAvatar: PropTypes.func,\n  renderAvatarOnTop: PropTypes.bool,\n  renderBubble: PropTypes.func,\n  renderSystemMessage: PropTypes.func,\n  onLongPress: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderMessageText: PropTypes.func,\n  renderMessageImage: PropTypes.func,\n  imageProps: PropTypes.object,\n  lightboxProps: PropTypes.object,\n  renderCustomView: PropTypes.func,\n  renderDay: PropTypes.func,\n  renderTime: PropTypes.func,\n  renderFooter: PropTypes.func,\n  renderChatFooter: PropTypes.func,\n  renderInputToolbar: PropTypes.func,\n  renderComposer: PropTypes.func,\n  renderActions: PropTypes.func,\n  renderSend: PropTypes.func,\n  renderAccessory: PropTypes.func,\n  onPressActionButton: PropTypes.func,\n  bottomOffset: PropTypes.number,\n  minInputToolbarHeight: PropTypes.number,\n  listViewProps: PropTypes.object,\n  keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\n  onInputTextChanged: PropTypes.func,\n  maxInputLength: PropTypes.number,\n  forceGetKeyboardHeight: PropTypes.bool,\n  inverted: PropTypes.bool,\n  textInputProps: PropTypes.object,\n};\n\nexport {\n  GiftedChat,\n  Actions,\n  Avatar,\n  Bubble,\n  SystemMessage,\n  MessageImage,\n  MessageText,\n  Composer,\n  Day,\n  InputToolbar,\n  LoadEarlier,\n  Message,\n  MessageContainer,\n  Send,\n  Time,\n  GiftedAvatar,\n  utils,\n};\n"]},"metadata":{},"sourceType":"module"}