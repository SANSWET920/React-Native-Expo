{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\React Native Project\\\\Memes\\\\components\\\\Login.js\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n  color: white;\\n\\n  text-transform: uppercase;\\n\\n  font-weight: 400;\\n\\n  font-size: 20px;\\n\\n\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n  background: #48A7FF;\\n\\n  border-radius: 10px;\\n\\n  width: 187px;\\n\\n  height: 38px;\\n\\n  justify-content: center;\\n\\n  align-items: center;\\n\\n  margin-top: 30px;\\n\\n  margin-left: 70px;\\n\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n  margin-top: 20px;\\n\\n  width: 290px;\\n\\n  height: 38px;\\n\\n  background: #e4e4e4;\\n\\n  border-radius: 10px;\\n\\n  margin-left: 15px;\\n\\n  padding-left: 10px;\\n\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n margin-top: 50px;\\n\\n margin-bottom: 40px;\\n\\n font-size: 24px;\\n\\n font-weight: 400;\\n\\n color: black;\\n\\n text-align: center;\\n\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n  width: 320px;\\n\\n  height: 350px;\\n\\n  margin-top: 40px;\\n\\n  background: white;\\n\\n  border-radius: 15px;\\n\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n  position: absolute;\\n\\n  width: 100%;\\n \\n  height: 100%;\\n\\n  top: 0;\\n\\n  left: 0;\\n\\n  background: rgba(0,0,0, 0.75);\\n\\n\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteralLoose([\"\\n\\n position: absolute;\\n\\n width: 100%;\\n\\n height: 100%;\\n\\n top: 0;\\n\\n left: 0;\\n\\n justify-content: center;\\n\\n align-items: center;\\n\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Loading from \"./Loading\";\nimport Success from \"./Success\";\nimport { connect } from \"react-redux\";\nimport firebaseApp from \"../screens/FirebaseConfig\";\n\nfunction mapStateToProps(state) {\n  return {\n    menu: state.menu\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    closeLogin: function closeLogin() {\n      return dispatch({\n        type: \"CLOSELOGIN\"\n      });\n    },\n    Login: function Login(email) {\n      return dispatch({\n        type: \"LOG\",\n        email: email\n      });\n    }\n  };\n}\n\nvar screenHeight = Dimensions.get(\"window\").height;\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      isLoading: false,\n      isSuccess: false,\n      top: new Animated.Value(screenHeight),\n      scale: new Animated.Value(1.3),\n      translateY: new Animated.Value(0)\n    };\n\n    _this.setUser = function _callee(name) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userName\", name));\n\n            case 3:\n              _context.next = 7;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 5]], Promise);\n    };\n\n    _this.getUser = function _callee2() {\n      var name;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userName\"));\n\n            case 3:\n              name = _context2.sent;\n\n              if (name !== null) {\n                _this.props.Login(name);\n              }\n\n              _context2.next = 9;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    _this.handleLogin = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      var email = _this.state.email;\n      var password = _this.state.password;\n      firebaseApp.auth().signInWithEmailAndPassword(email, password).catch(function (error) {\n        Alert.alert(\"Error\", error.message);\n      }).then(function (response) {\n        _this.setState({\n          isLoading: false\n        });\n\n        if (response) {\n          console.log(response);\n\n          _this.setUser(response.user.email);\n\n          _this.props.Login(response.user.email);\n\n          _this.setState({\n            isSuccess: true\n          });\n\n          setTimeout(function () {\n            _this.setState({\n              isSuccess: false\n            });\n\n            _this.props.closeLogin();\n          }, 5000);\n        }\n      });\n    };\n\n    _this.tapBackground = function () {\n      _this.props.closeLogin();\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUser();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      if (this.props.menu == \"openLogin\") {\n        Animated.timing(this.state.top, {\n          toValue: 0,\n          duration: 0\n        }).start();\n        Animated.spring(this.state.scale, {\n          toValue: 1\n        }).start();\n        Animated.timing(this.state.translateY, {\n          toValue: 0,\n          duration: 0\n        }).start();\n      }\n\n      if (this.props.menu == \"closeLogin\") {\n        setTimeout(function () {\n          Animated.timing(_this2.state.top, {\n            toValue: screenHeight,\n            duration: 0\n          }).start();\n          Animated.spring(_this2.state.scale, {\n            toValue: 1.3\n          }).start();\n        }, 500);\n        Animated.timing(this.state.translateY, {\n          toValue: 1000,\n          duration: 500\n        }).start();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(AnimatedContainer, {\n        style: {\n          top: this.state.top\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableWithoutFeedback, {\n        onPress: this.tapBackground,\n        style: {\n          position: \"absolute\",\n          top: 0,\n          left: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 10\n        }\n      }, React.createElement(BlackScreeen, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 10\n        }\n      })), React.createElement(AnimatedBox, {\n        style: {\n          transform: [{\n            scale: this.state.scale\n          }, {\n            translateY: this.state.translateY\n          }]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }\n      }, \"Member Login\"), React.createElement(TextInput, {\n        placeholder: \"Email\",\n        keyBoardType: \"email-address\",\n        onChangeText: function onChangeText(email) {\n          _this3.setState({\n            email: email\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 14\n        }\n      }), React.createElement(TextInput, {\n        placeholder: \"Password\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return _this3.setState({\n            password: password\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 14\n        }\n      }), React.createElement(TouchableOpacity, {\n        onPress: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 15\n        }\n      }, React.createElement(ButtonView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 14\n        }\n      }, React.createElement(ButtonText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 14\n        }\n      }, \"Login\")))), React.createElement(Loading, {\n        isActive: this.state.isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 10\n        }\n      }), React.createElement(Success, {\n        isActive: this.state.isSuccess,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 10\n        }\n      }));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nvar Container = styled.View(_templateObject());\nvar AnimatedContainer = Animated.createAnimatedComponent(Container);\nvar BlackScreeen = styled.View(_templateObject2());\nvar Box = styled.View(_templateObject3());\nvar AnimatedBox = Animated.createAnimatedComponent(Box);\nvar Text = styled.Text(_templateObject4());\nvar TextInput = styled.TextInput(_templateObject5());\nvar ButtonView = styled.View(_templateObject6());\nvar ButtonText = styled.Text(_templateObject7());\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["D:/React Native Project/Memes/components/Login.js"],"names":["React","styled","Loading","Success","connect","firebaseApp","mapStateToProps","state","menu","mapDispatchToProps","dispatch","closeLogin","type","Login","email","screenHeight","Dimensions","get","height","password","isLoading","isSuccess","top","Animated","Value","scale","translateY","setUser","name","AsyncStorage","setItem","getUser","getItem","props","handleLogin","setState","auth","signInWithEmailAndPassword","catch","error","Alert","alert","message","then","response","console","log","user","setTimeout","tapBackground","timing","toValue","duration","start","spring","position","left","transform","Component","Container","View","AnimatedContainer","createAnimatedComponent","BlackScreeen","Box","AnimatedBox","Text","TextInput","ButtonView","ButtonText"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\nimport { TouchableOpacity,\r\n\r\n  Dimensions,\r\n  \r\n  Animated,\r\n  \r\n  TouchableWithoutFeedback,\r\n\r\n  Alert,\r\n\r\n  AsyncStorage\r\n\r\n} from \"react-native\";\r\n\r\nimport Loading from \"./Loading\";\r\n\r\nimport Success from \"./Success\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport firebaseApp from \"../screens/FirebaseConfig\";\r\n\r\n\r\n\r\n\r\n\r\n function mapStateToProps(state) {\r\n\r\n    return { menu: state.menu };\r\n\r\n }\r\n\r\n\r\n function mapDispatchToProps(dispatch) {\r\n\r\n   return {\r\n\r\n     closeLogin: () =>\r\n\r\n     dispatch({\r\n\r\n        type: \"CLOSELOGIN\"\r\n   \r\n     }),\r\n\r\n     Login: (email) =>\r\n\r\n     dispatch({\r\n\r\n       type: \"LOG\",\r\n\r\n      email: email\r\n\r\n     })\r\n\r\n   };\r\n\r\n }\r\n\r\n\r\nconst screenHeight = Dimensions.get(\"window\").height;\r\n\r\n\r\nclass Login extends React.Component {\r\n\r\n    state = {\r\n\r\n      email: \"\",\r\n\r\n      password: \"\",\r\n\r\n      isLoading: false,\r\n\r\n      isSuccess: false,\r\n\r\n      top: new Animated.Value(screenHeight),\r\n\r\n      scale: new Animated.Value(1.3),\r\n\r\n      translateY: new Animated.Value(0),\r\n\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n\r\n      this.getUser();\r\n    \r\n    }\r\n\r\n\r\n    setUser = async (name) => {\r\n\r\n      try {\r\n\r\n        await AsyncStorage.setItem(\"userName\", name)\r\n\r\n      } catch(error) {}\r\n\r\n    };\r\n\r\n\r\n    getUser = async () => {\r\n \r\n      try {\r\n\r\n        const name = await AsyncStorage.getItem(\"userName\");\r\n\r\n        if(name !== null) {\r\n\r\n         this.props.Login(name);\r\n\r\n        }\r\n\r\n      } catch(error) {}\r\n\r\n    };\r\n\r\n\r\n    handleLogin = () => {\r\n\r\n      this.setState({ isLoading: true });\r\n\r\n\r\n\r\n     const email = this.state.email;\r\n\r\n     const password = this.state.password;\r\n\r\n\r\n     firebaseApp\r\n     \r\n     .auth()\r\n     \r\n     .signInWithEmailAndPassword(email, password)\r\n\r\n     .catch(function(error) {\r\n\r\n         Alert.alert(\"Error\", error.message);\r\n\r\n     })\r\n     \r\n     .then((response) => {\r\n\r\n       this.setState({ isLoading: false });\r\n\r\n       if (response) {\r\n\r\n        console.log(response);\r\n\r\n        this.setUser(response.user.email);\r\n\r\n        this.props.Login(response.user.email);\r\n\r\n        this.setState({ isSuccess: true });\r\n\r\n      setTimeout(() => {\r\n\r\n    this.setState({ isSuccess: false });\r\n\r\n    this.props.closeLogin();\r\n\r\n   },5000);  \r\n\r\n  }\r\n\r\n });\r\n\r\n};\r\n\r\n\r\n\r\n    componentDidUpdate() {\r\n \r\n     if (this.props.menu == \"openLogin\") {\r\n\r\n        Animated.timing(this.state.top, {toValue: 0, duration: 0}).start();\r\n\r\n        Animated.spring(this.state.scale, { toValue:1 }).start();\r\n\r\n        Animated.timing(this.state.translateY, {\r\n          \r\n          toValue: 0, \r\n          \r\n          duration: 0 \r\n\r\n        }).start();\r\n\r\n     }\r\n\r\n     if (this.props.menu == \"closeLogin\") {\r\n\r\n      setTimeout(() => {\r\n\r\n        Animated.timing(this.state.top, {\r\n        \r\n          toValue: screenHeight,\r\n          \r\n          duration: 0\r\n        \r\n        }).start();  \r\n        \r\n        Animated.spring(this.state.scale, { toValue:1.3 }).start();\r\n\r\n      },500)\r\n\r\n      Animated.timing(this.state.translateY, {\r\n        \r\n        toValue: 1000,\r\n        \r\n        duration: 500\r\n      \r\n      }).start();\r\n\r\n     }\r\n\r\n    }\r\n\r\n    tapBackground = () => {\r\n\r\n       this.props.closeLogin();\r\n\r\n    }\r\n\r\n\r\n   render() {\r\n\r\n     return (\r\n\r\n        <AnimatedContainer style={{ top: this.state.top }} >\r\n\r\n         <TouchableWithoutFeedback onPress={this.tapBackground} \r\n         \r\n         style={{ position: \"absolute\", top: 0, left: 0 }}\r\n         \r\n         >\r\n\r\n         <BlackScreeen />\r\n\r\n         </TouchableWithoutFeedback>\r\n\r\n          <AnimatedBox style={{ transform: [ {scale: this.state.scale}, \r\n\r\n          {translateY: this.state.translateY} ] }} >\r\n\r\n            <Text>Member Login</Text>\r\n\r\n             <TextInput placeholder=\"Email\" keyBoardType=\"email-address\"\r\n             \r\n             onChangeText={(email) => {this.setState({ email: email });\r\n             \r\n             }} />\r\n             \r\n              \r\n\r\n             <TextInput\r\n             \r\n              placeholder=\"Password\" \r\n              \r\n              secureTextEntry={true}\r\n             \r\n             onChangeText={password => this.setState({ password: password })}\r\n            \r\n              />\r\n\r\n              <TouchableOpacity onPress={this.handleLogin}>\r\n\r\n             <ButtonView>\r\n\r\n             <ButtonText>Login</ButtonText>\r\n\r\n             </ButtonView>\r\n\r\n             </TouchableOpacity>\r\n        \r\n          </AnimatedBox>\r\n\r\n         <Loading isActive={this.state.isLoading} /> \r\n\r\n         <Success isActive={this.state.isSuccess} />\r\n\r\n        </AnimatedContainer>\r\n\r\n     )\r\n\r\n   }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Container = styled.View`\r\n\r\n position: absolute;\r\n\r\n width: 100%;\r\n\r\n height: 100%;\r\n\r\n top: 0;\r\n\r\n left: 0;\r\n\r\n justify-content: center;\r\n\r\n align-items: center;\r\n\r\n`;\r\n\r\n\r\nconst AnimatedContainer = Animated.createAnimatedComponent(Container);\r\n\r\n\r\nconst BlackScreeen = styled.View`\r\n\r\n  position: absolute;\r\n\r\n  width: 100%;\r\n \r\n  height: 100%;\r\n\r\n  top: 0;\r\n\r\n  left: 0;\r\n\r\n  background: rgba(0,0,0, 0.75);\r\n\r\n\r\n`;\r\n\r\nconst Box = styled.View`\r\n\r\n  width: 320px;\r\n\r\n  height: 350px;\r\n\r\n  margin-top: 40px;\r\n\r\n  background: white;\r\n\r\n  border-radius: 15px;\r\n\r\n`;\r\n\r\nconst AnimatedBox = Animated.createAnimatedComponent(Box);\r\n\r\n\r\nconst Text = styled.Text`\r\n\r\n margin-top: 50px;\r\n\r\n margin-bottom: 40px;\r\n\r\n font-size: 24px;\r\n\r\n font-weight: 400;\r\n\r\n color: black;\r\n\r\n text-align: center;\r\n\r\n`;\r\n\r\n\r\nconst TextInput = styled.TextInput`\r\n\r\n  margin-top: 20px;\r\n\r\n  width: 290px;\r\n\r\n  height: 38px;\r\n\r\n  background: #e4e4e4;\r\n\r\n  border-radius: 10px;\r\n\r\n  margin-left: 15px;\r\n\r\n  padding-left: 10px;\r\n\r\n`;\r\n\r\n\r\nconst ButtonView = styled.View`\r\n\r\n  background: #48A7FF;\r\n\r\n  border-radius: 10px;\r\n\r\n  width: 187px;\r\n\r\n  height: 38px;\r\n\r\n  justify-content: center;\r\n\r\n  align-items: center;\r\n\r\n  margin-top: 30px;\r\n\r\n  margin-left: 70px;\r\n\r\n`;\r\n\r\n\r\nconst ButtonText = styled.Text`\r\n\r\n  color: white;\r\n\r\n  text-transform: uppercase;\r\n\r\n  font-weight: 400;\r\n\r\n  font-size: 20px;\r\n\r\n\r\n`;\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Login);"]},"metadata":{},"sourceType":"module"}