{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\React Native Project\\\\Memes\\\\node_modules\\\\react-native-gifted-chat-new\\\\src\\\\MessageContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport LoadEarlier from \"./LoadEarlier\";\nimport Message from \"./Message\";\n\nvar MessageContainer = function (_React$PureComponent) {\n  _inherits(MessageContainer, _React$PureComponent);\n\n  var _super = _createSuper(MessageContainer);\n\n  function MessageContainer(props) {\n    var _this;\n\n    _classCallCheck(this, MessageContainer);\n\n    _this = _super.call(this, props);\n    _this.renderRow = _this.renderRow.bind(_assertThisInitialized(_this));\n    _this.renderFooter = _this.renderFooter.bind(_assertThisInitialized(_this));\n    _this.renderLoadEarlier = _this.renderLoadEarlier.bind(_assertThisInitialized(_this));\n    _this.renderHeaderWrapper = _this.renderHeaderWrapper.bind(_assertThisInitialized(_this));\n    _this.attachKeyboardListeners = _this.attachKeyboardListeners.bind(_assertThisInitialized(_this));\n    _this.detatchKeyboardListeners = _this.detatchKeyboardListeners.bind(_assertThisInitialized(_this));\n\n    if (props.messages.length === 0) {\n      _this.attachKeyboardListeners(props);\n    }\n\n    return _this;\n  }\n\n  _createClass(MessageContainer, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.messages.length === 0 && nextProps.messages.length > 0) {\n        this.detatchKeyboardListeners();\n      } else if (this.props.messages.length > 0 && nextProps.messages.length === 0) {\n        this.attachKeyboardListeners(nextProps);\n      }\n    }\n  }, {\n    key: \"attachKeyboardListeners\",\n    value: function attachKeyboardListeners(props) {\n      Keyboard.addListener('keyboardWillShow', props.invertibleScrollViewProps.onKeyboardWillShow);\n      Keyboard.addListener('keyboardDidShow', props.invertibleScrollViewProps.onKeyboardDidShow);\n      Keyboard.addListener('keyboardWillHide', props.invertibleScrollViewProps.onKeyboardWillHide);\n      Keyboard.addListener('keyboardDidHide', props.invertibleScrollViewProps.onKeyboardDidHide);\n    }\n  }, {\n    key: \"detatchKeyboardListeners\",\n    value: function detatchKeyboardListeners() {\n      Keyboard.removeListener('keyboardWillShow', this.props.invertibleScrollViewProps.onKeyboardWillShow);\n      Keyboard.removeListener('keyboardDidShow', this.props.invertibleScrollViewProps.onKeyboardDidShow);\n      Keyboard.removeListener('keyboardWillHide', this.props.invertibleScrollViewProps.onKeyboardWillHide);\n      Keyboard.removeListener('keyboardDidHide', this.props.invertibleScrollViewProps.onKeyboardDidHide);\n    }\n  }, {\n    key: \"renderFooter\",\n    value: function renderFooter() {\n      if (this.props.renderFooter) {\n        var footerProps = _objectSpread({}, this.props);\n\n        return this.props.renderFooter(footerProps);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLoadEarlier\",\n    value: function renderLoadEarlier() {\n      if (this.props.loadEarlier === true) {\n        var loadEarlierProps = _objectSpread({}, this.props);\n\n        if (this.props.renderLoadEarlier) {\n          return this.props.renderLoadEarlier(loadEarlierProps);\n        }\n\n        return React.createElement(LoadEarlier, _extends({}, loadEarlierProps, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 14\n          }\n        }));\n      }\n\n      return null;\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      if (this.flatListRef) {\n        this.flatListRef.scrollToOffset(options);\n      }\n    }\n  }, {\n    key: \"renderRow\",\n    value: function renderRow(_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n\n      if (!item._id && item._id !== 0) {\n        console.warn('GiftedChat: `_id` is missing for message', JSON.stringify(item));\n      }\n\n      if (!item.user) {\n        if (!item.system) {\n          console.warn('GiftedChat: `user` is missing for message', JSON.stringify(item));\n        }\n\n        item.user = {};\n      }\n\n      var _this$props = this.props,\n          messages = _this$props.messages,\n          restProps = _objectWithoutProperties(_this$props, [\"messages\"]);\n\n      var previousMessage = messages[index + 1] || {};\n      var nextMessage = messages[index - 1] || {};\n\n      var messageProps = _objectSpread({}, restProps, {\n        key: item._id,\n        currentMessage: item,\n        previousMessage: previousMessage,\n        nextMessage: nextMessage,\n        position: item.user._id === this.props.user._id ? 'right' : 'left'\n      });\n\n      if (this.props.renderMessage) {\n        return this.props.renderMessage(messageProps);\n      }\n\n      return React.createElement(Message, _extends({}, messageProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 12\n        }\n      }));\n    }\n  }, {\n    key: \"renderHeaderWrapper\",\n    value: function renderHeaderWrapper() {\n      return React.createElement(View, {\n        style: styles.headerWrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 12\n        }\n      }, this.renderLoadEarlier());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.messages.length === 0) {\n        return React.createElement(View, {\n          style: styles.container,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      }, React.createElement(FlatList, _extends({\n        ref: function ref(_ref2) {\n          return _this2.flatListRef = _ref2;\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item._id;\n        },\n        enableEmptySections: true,\n        automaticallyAdjustContentInsets: false,\n        inverted: this.props.inverted,\n        data: this.props.messages,\n        style: styles.listStyle,\n        contentContainerStyle: styles.contentContainerStyle,\n        renderItem: this.renderRow\n      }, this.props.invertibleScrollViewProps, {\n        ListFooterComponent: this.renderHeaderWrapper,\n        ListHeaderComponent: this.renderFooter\n      }, this.props.listViewProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }\n      })));\n    }\n  }]);\n\n  return MessageContainer;\n}(React.PureComponent);\n\nexport { MessageContainer as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  contentContainerStyle: {\n    justifyContent: 'flex-end'\n  },\n  headerWrapper: {\n    flex: 1\n  },\n  listStyle: {\n    flex: 1\n  }\n});\nMessageContainer.defaultProps = {\n  messages: [],\n  user: {},\n  renderFooter: null,\n  renderMessage: null,\n  onLoadEarlier: function onLoadEarlier() {},\n  inverted: true,\n  loadEarlier: false,\n  listViewProps: {},\n  invertibleScrollViewProps: {}\n};\nMessageContainer.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  user: PropTypes.object,\n  renderFooter: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  onLoadEarlier: PropTypes.func,\n  listViewProps: PropTypes.object,\n  inverted: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  invertibleScrollViewProps: PropTypes.object\n};","map":{"version":3,"sources":["D:/React Native Project/Memes/node_modules/react-native-gifted-chat-new/src/MessageContainer.js"],"names":["PropTypes","React","LoadEarlier","Message","MessageContainer","props","renderRow","bind","renderFooter","renderLoadEarlier","renderHeaderWrapper","attachKeyboardListeners","detatchKeyboardListeners","messages","length","nextProps","Keyboard","addListener","invertibleScrollViewProps","onKeyboardWillShow","onKeyboardDidShow","onKeyboardWillHide","onKeyboardDidHide","removeListener","footerProps","loadEarlier","loadEarlierProps","options","flatListRef","scrollToOffset","item","index","_id","console","warn","JSON","stringify","user","system","restProps","previousMessage","nextMessage","messageProps","key","currentMessage","position","renderMessage","styles","headerWrapper","container","ref","inverted","listStyle","contentContainerStyle","listViewProps","PureComponent","StyleSheet","create","flex","justifyContent","defaultProps","onLoadEarlier","propTypes","arrayOf","object","func","bool"],"mappings":"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","sourcesContent":["/* eslint\n    no-console: 0,\n    no-param-reassign: 0,\n    no-use-before-define: [\"error\", { \"variables\": false }],\n    no-return-assign: 0,\n    react/no-string-refs: 0,\n    react/sort-comp: 0\n*/\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport { FlatList, View, StyleSheet, Keyboard } from 'react-native';\n\nimport LoadEarlier from './LoadEarlier';\nimport Message from './Message';\n\nexport default class MessageContainer extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n\n    this.renderRow = this.renderRow.bind(this);\n    this.renderFooter = this.renderFooter.bind(this);\n    this.renderLoadEarlier = this.renderLoadEarlier.bind(this);\n    this.renderHeaderWrapper = this.renderHeaderWrapper.bind(this);\n    this.attachKeyboardListeners = this.attachKeyboardListeners.bind(this);\n    this.detatchKeyboardListeners = this.detatchKeyboardListeners.bind(this);\n\n    if (props.messages.length === 0) {\n      this.attachKeyboardListeners(props);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.messages.length === 0 && nextProps.messages.length > 0) {\n      this.detatchKeyboardListeners();\n    } else if (this.props.messages.length > 0 && nextProps.messages.length === 0) {\n      this.attachKeyboardListeners(nextProps);\n    }\n  }\n\n  attachKeyboardListeners(props) {\n    Keyboard.addListener('keyboardWillShow', props.invertibleScrollViewProps.onKeyboardWillShow);\n    Keyboard.addListener('keyboardDidShow', props.invertibleScrollViewProps.onKeyboardDidShow);\n    Keyboard.addListener('keyboardWillHide', props.invertibleScrollViewProps.onKeyboardWillHide);\n    Keyboard.addListener('keyboardDidHide', props.invertibleScrollViewProps.onKeyboardDidHide);\n  }\n\n  detatchKeyboardListeners() {\n    Keyboard.removeListener('keyboardWillShow', this.props.invertibleScrollViewProps.onKeyboardWillShow);\n    Keyboard.removeListener('keyboardDidShow', this.props.invertibleScrollViewProps.onKeyboardDidShow);\n    Keyboard.removeListener('keyboardWillHide', this.props.invertibleScrollViewProps.onKeyboardWillHide);\n    Keyboard.removeListener('keyboardDidHide', this.props.invertibleScrollViewProps.onKeyboardDidHide);\n  }\n\n  renderFooter() {\n    if (this.props.renderFooter) {\n      const footerProps = {\n        ...this.props,\n      };\n      return this.props.renderFooter(footerProps);\n    }\n    return null;\n  }\n\n  renderLoadEarlier() {\n    if (this.props.loadEarlier === true) {\n      const loadEarlierProps = {\n        ...this.props,\n      };\n      if (this.props.renderLoadEarlier) {\n        return this.props.renderLoadEarlier(loadEarlierProps);\n      }\n      return <LoadEarlier {...loadEarlierProps} />;\n    }\n    return null;\n  }\n\n  scrollTo(options) {\n    if (this.flatListRef) {\n      this.flatListRef.scrollToOffset(options);\n    }\n  }\n\n  renderRow({ item, index }) {\n    if (!item._id && item._id !== 0) {\n      console.warn('GiftedChat: `_id` is missing for message', JSON.stringify(item));\n    }\n    if (!item.user) {\n      if (!item.system) {\n        console.warn('GiftedChat: `user` is missing for message', JSON.stringify(item));\n      }\n      item.user = {};\n    }\n    const { messages, ...restProps } = this.props;\n    const previousMessage = messages[index + 1] || {};\n    const nextMessage = messages[index - 1] || {};\n\n    const messageProps = {\n      ...restProps,\n      key: item._id,\n      currentMessage: item,\n      previousMessage,\n      nextMessage,\n      position: item.user._id === this.props.user._id ? 'right' : 'left',\n    };\n\n    if (this.props.renderMessage) {\n      return this.props.renderMessage(messageProps);\n    }\n    return <Message {...messageProps} />;\n  }\n\n  renderHeaderWrapper() {\n    return <View style={styles.headerWrapper}>{this.renderLoadEarlier()}</View>;\n  }\n\n  render() {\n    if (this.props.messages.length === 0) {\n      return <View style={styles.container} />;\n    }\n    return (\n      <View style={styles.container}>\n        <FlatList\n          ref={(ref) => (this.flatListRef = ref)}\n          keyExtractor={(item) => item._id}\n          enableEmptySections\n          automaticallyAdjustContentInsets={false}\n          inverted={this.props.inverted}\n          data={this.props.messages}\n          style={styles.listStyle}\n          contentContainerStyle={styles.contentContainerStyle}\n          renderItem={this.renderRow}\n          {...this.props.invertibleScrollViewProps}\n          ListFooterComponent={this.renderHeaderWrapper}\n          ListHeaderComponent={this.renderFooter}\n          {...this.props.listViewProps}\n        />\n      </View>\n    );\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  contentContainerStyle: {\n    justifyContent: 'flex-end',\n  },\n  headerWrapper: {\n    flex: 1,\n  },\n  listStyle: {\n    flex: 1,\n  },\n});\n\nMessageContainer.defaultProps = {\n  messages: [],\n  user: {},\n  renderFooter: null,\n  renderMessage: null,\n  onLoadEarlier: () => {},\n  inverted: true,\n  loadEarlier: false,\n  listViewProps: {},\n  invertibleScrollViewProps: {}, // TODO: support or not?\n};\n\nMessageContainer.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  user: PropTypes.object,\n  renderFooter: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  onLoadEarlier: PropTypes.func,\n  listViewProps: PropTypes.object,\n  inverted: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  invertibleScrollViewProps: PropTypes.object, // TODO: support or not?\n};\n"]},"metadata":{},"sourceType":"module"}